(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{qvFY:function(t,r,e){"use strict";e.r(r),e.d(r,"ProductModule",(function(){return M}));var c=e("ofXK"),o=e("fXoL"),s=e("mCRk"),i=e("1kSV"),n=e("5eHb"),b=e("P4sO");function a(t,r){if(1&t){const t=o.Qb();o.Pb(0,"tr"),o.Pb(1,"td"),o.zc(2),o.Ob(),o.Pb(3,"td"),o.zc(4),o.Ob(),o.Pb(5,"td"),o.zc(6),o.Ob(),o.Pb(7,"td"),o.zc(8),o.Ob(),o.Pb(9,"td"),o.zc(10),o.Ob(),o.Pb(11,"td"),o.zc(12),o.Ob(),o.Pb(13,"td"),o.zc(14),o.Ob(),o.Pb(15,"td"),o.Pb(16,"button",6),o.ac("click",(function(){o.pc(t);const e=r.$implicit;return o.cc().onSelect(e)})),o.zc(17,"Select"),o.Ob(),o.Ob(),o.Ob()}if(2&t){const t=r.$implicit,e=r.index;o.xb(2),o.Ac(e+1),o.xb(2),o.Ac(t.title),o.xb(2),o.Ac(t.line1),o.xb(2),o.Ac(t.line2),o.xb(2),o.Ac(t.city),o.xb(2),o.Ac(t.state),o.xb(2),o.Ac(t.zipCode)}}let d=(()=>{class t{constructor(t,r,e,c){this.orderService=t,this.modal=r,this.toastr=e,this.service=c,this.addresses=[]}ngOnInit(){this.loadAddresses()}loadAddresses(){this.service.getAddresses().subscribe(t=>{"success"==t.status?this.addresses=t.data:this.toastr.error(t.error)})}onCancel(){this.modal.dismiss("cancel")}onSelect(t){this.orderService.placeOrder(t.id).subscribe(t=>{"success"==t.status?(this.toastr.success("Congratulations!!! Placed your order"),this.modal.dismiss("ok")):this.toastr.error(t.error)})}}return t.\u0275fac=function(r){return new(r||t)(o.Kb(s.a),o.Kb(i.a),o.Kb(n.b),o.Kb(b.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-select-address"]],decls:28,vars:1,consts:[[1,"modal-header"],[1,"modal-body"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-sm","btn-info",3,"click"]],template:function(t,r){1&t&&(o.Pb(0,"div",0),o.Pb(1,"h5"),o.zc(2,"Select address"),o.Ob(),o.Ob(),o.Pb(3,"div",1),o.Pb(4,"table",2),o.Pb(5,"thead"),o.Pb(6,"tr"),o.Pb(7,"th"),o.zc(8,"No"),o.Ob(),o.Pb(9,"th"),o.zc(10,"Title"),o.Ob(),o.Pb(11,"th"),o.zc(12,"Line 1"),o.Ob(),o.Pb(13,"th"),o.zc(14,"Line 2"),o.Ob(),o.Pb(15,"th"),o.zc(16,"City"),o.Ob(),o.Pb(17,"th"),o.zc(18,"State"),o.Ob(),o.Pb(19,"th"),o.zc(20,"ZipCode"),o.Ob(),o.Pb(21,"th"),o.zc(22,"Actions"),o.Ob(),o.Ob(),o.Ob(),o.Pb(23,"tbody"),o.xc(24,a,18,7,"tr",3),o.Ob(),o.Ob(),o.Ob(),o.Pb(25,"div",4),o.Pb(26,"button",5),o.ac("click",(function(){return r.onCancel()})),o.zc(27,"Cancel"),o.Ob(),o.Ob()),2&t&&(o.xb(24),o.hc("ngForOf",r.addresses))},directives:[c.i],styles:[""]}),t})();var u=e("tk/3");let h=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:4100/cart"}getCartItems(){const t={headers:new u.c({token:sessionStorage.token})};return this.http.get(this.url,t)}addItemToCart(t,r,e){const c={headers:new u.c({token:sessionStorage.token})};return this.http.post(this.url,{productId:t,price:r,quantity:e},c)}updateItemToCart(t,r){const e={headers:new u.c({token:sessionStorage.token})};return this.http.put(this.url+"/"+t,{quantity:r},e)}deleteItemFromCart(t){const r={headers:new u.c({token:sessionStorage.token})};return this.http.delete(this.url+"/"+t,r)}}return t.\u0275fac=function(r){return new(r||t)(o.Xb(u.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function l(t,r){1&t&&(o.Pb(0,"h3",0),o.zc(1,"There is no prouct added to cart"),o.Ob())}function p(t,r){if(1&t){const t=o.Qb();o.Pb(0,"tr"),o.Pb(1,"td"),o.zc(2),o.Ob(),o.Pb(3,"td"),o.Lb(4,"img",10),o.Ob(),o.Pb(5,"td"),o.zc(6),o.Ob(),o.Pb(7,"td"),o.zc(8),o.Ob(),o.Pb(9,"td"),o.Pb(10,"button",11),o.ac("click",(function(){o.pc(t);const e=r.$implicit;return o.cc(2).reduceQuantity(e)})),o.zc(11," - "),o.Ob(),o.Pb(12,"span",12),o.zc(13),o.Ob(),o.Pb(14,"button",13),o.ac("click",(function(){o.pc(t);const e=r.$implicit;return o.cc(2).increaseQuantity(e)})),o.zc(15," + "),o.Ob(),o.Ob(),o.Pb(16,"td"),o.zc(17),o.Ob(),o.Pb(18,"td"),o.zc(19),o.Ob(),o.Ob()}if(2&t){const t=r.$implicit,e=r.index;o.xb(2),o.Ac(e+1),o.xb(2),o.jc("src","http://localhost:4100/product/image/",t.imageFile,"",o.rc),o.xb(2),o.Ac(t.title),o.xb(2),o.Ac(t.description),o.xb(5),o.Ac(t.quantity),o.xb(4),o.Bc("\u20b9 ",t.price,""),o.xb(2),o.Bc("\u20b9 ",t.price*t.quantity,"")}}function g(t,r){if(1&t){const t=o.Qb();o.Pb(0,"table",3),o.Pb(1,"thead"),o.Pb(2,"tr"),o.Pb(3,"th",4),o.zc(4,"No"),o.Ob(),o.Pb(5,"th",5),o.zc(6,"Thumbnail"),o.Ob(),o.Pb(7,"th"),o.zc(8,"Title"),o.Ob(),o.Pb(9,"th"),o.zc(10,"Description"),o.Ob(),o.Pb(11,"th"),o.zc(12,"Quantity"),o.Ob(),o.Pb(13,"th"),o.zc(14,"Price"),o.Ob(),o.Pb(15,"th"),o.zc(16,"Total Price"),o.Ob(),o.Ob(),o.Ob(),o.Pb(17,"tbody"),o.xc(18,p,20,7,"tr",6),o.Ob(),o.Pb(19,"tfoot"),o.Pb(20,"tr"),o.Pb(21,"td",7),o.zc(22,"Cart Total Price"),o.Ob(),o.Pb(23,"td"),o.Pb(24,"h5"),o.zc(25),o.Ob(),o.Ob(),o.Ob(),o.Pb(26,"tr"),o.Pb(27,"td",8),o.Pb(28,"button",9),o.ac("click",(function(){return o.pc(t),o.cc().onPlaceOrder()})),o.zc(29,"Place Order"),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob()}if(2&t){const t=o.cc();o.xb(18),o.hc("ngForOf",t.products),o.xb(7),o.Bc("\u20b9 ",t.totalPrice,"")}}let P=(()=>{class t{constructor(t,r,e){this.modalService=t,this.toastr=r,this.cartService=e,this.products=[],this.totalPrice=0}ngOnInit(){this.loadCartItems()}loadCartItems(){this.cartService.getCartItems().subscribe(t=>{"success"==t.status?(this.totalPrice=0,this.products=t.data,this.products.forEach(t=>{this.totalPrice+=t.quantity*t.price})):this.toastr.error(t.error)})}reduceQuantity(t){this.updateQuantity(t.id,t.quantity-1)}increaseQuantity(t){this.updateQuantity(t.id,t.quantity+1)}updateQuantity(t,r){0==r?this.cartService.deleteItemFromCart(t).subscribe(t=>{"success"==t.status?this.loadCartItems():this.toastr.error(t.error)}):this.cartService.updateItemToCart(t,r).subscribe(t=>{"success"==t.status?this.loadCartItems():this.toastr.error(t.error)})}onPlaceOrder(){this.modalService.open(d,{size:"lg"}).result.finally(()=>{this.loadCartItems()})}}return t.\u0275fac=function(r){return new(r||t)(o.Kb(i.f),o.Kb(n.b),o.Kb(h))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-cart"]],decls:4,vars:2,consts:[[1,"header"],["class","header",4,"ngIf"],["class","table table-striped table-hover",4,"ngIf"],[1,"table","table-striped","table-hover"],[2,"width","80px"],[2,"width","100px"],[4,"ngFor","ngForOf"],["colspan","6",2,"text-align","right","font-weight","600"],["colspan","7"],[1,"btn","btn-info","float-right",3,"click"],["alt","",1,"product-thumbnail",3,"src"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"quantity"],[1,"btn","btn-sm","btn-success",3,"click"]],template:function(t,r){1&t&&(o.Pb(0,"h3",0),o.zc(1,"Cart Items"),o.Ob(),o.xc(2,l,2,0,"h3",1),o.xc(3,g,30,2,"table",2)),2&t&&(o.xb(2),o.hc("ngIf",0==r.products.length),o.xb(1),o.hc("ngIf",r.products.length>0))},directives:[c.j,c.i],styles:[".product-thumbnail[_ngcontent-%COMP%]{width:60px}.quantity[_ngcontent-%COMP%]{display:inline-block;width:50px;font-weight:700;font-size:19px;text-align:center}"]}),t})();var f=e("tyNb");let O=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:4100/product"}getProductInfo(t){const r={headers:new u.c({token:sessionStorage.token})};return this.http.get(this.url+"/details/"+t,r)}filterProducts(t,r){const e={headers:new u.c({token:sessionStorage.token})};return this.http.post(this.url+"/filter",{categoryId:t,brandId:r},e)}}return t.\u0275fac=function(r){return new(r||t)(o.Xb(u.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:4100/brand"}getBrands(){const t={headers:new u.c({token:sessionStorage.token})};return this.http.get(this.url,t)}}return t.\u0275fac=function(r){return new(r||t)(o.Xb(u.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:4100/category"}getCategories(){const t={headers:new u.c({token:sessionStorage.token})};return this.http.get(this.url,t)}}return t.\u0275fac=function(r){return new(r||t)(o.Xb(u.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=e("3Pt+");function z(t,r){if(1&t&&(o.Pb(0,"option",13),o.zc(1),o.Ob()),2&t){const t=r.$implicit;o.hc("value",t.id),o.xb(1),o.Ac(t.title)}}function w(t,r){if(1&t&&(o.Pb(0,"option",13),o.zc(1),o.Ob()),2&t){const t=r.$implicit;o.hc("value",t.id),o.xb(1),o.Ac(t.title)}}function y(t,r){1&t&&(o.Pb(0,"h4"),o.zc(1,"There are no products matching this criteria"),o.Ob())}function k(t,r){if(1&t){const t=o.Qb();o.Pb(0,"div",15),o.Lb(1,"img",16),o.Pb(2,"h5",17),o.ac("click",(function(){o.pc(t);const e=r.$implicit;return o.cc(2).showProductDetails(e)})),o.zc(3),o.Ob(),o.Pb(4,"div",18),o.zc(5),o.Ob(),o.Pb(6,"div",19),o.Pb(7,"strong"),o.zc(8,"Brand: "),o.Ob(),o.zc(9),o.Ob(),o.Pb(10,"div",20),o.Pb(11,"strong"),o.zc(12,"Category: "),o.Ob(),o.zc(13),o.Ob(),o.Pb(14,"div",21),o.Pb(15,"strong"),o.zc(16,"Price: "),o.Ob(),o.zc(17),o.Ob(),o.Pb(18,"button",22),o.ac("click",(function(){o.pc(t);const e=r.$implicit;return o.cc(2).onAddToCart(e)})),o.zc(19,"Add To Cart"),o.Ob(),o.Ob()}if(2&t){const t=r.$implicit;o.xb(1),o.jc("src","http://localhost:4100/product/image/",t.imageFile,"",o.rc),o.xb(2),o.Ac(t.title),o.xb(2),o.Ac(t.description),o.xb(4),o.Bc(" ",t.brandTitle,""),o.xb(4),o.Bc(" ",t.categoryTitle,""),o.xb(4),o.Bc(" ",t.price,"")}}function C(t,r){if(1&t&&(o.Pb(0,"div",1),o.xc(1,k,20,6,"div",14),o.Ob()),2&t){const t=o.cc();o.xb(1),o.hc("ngForOf",t.products)}}let I=(()=>{class t{constructor(t,r,e,c,o,s){this.router=t,this.cartService=r,this.productService=e,this.toastr=c,this.brandService=o,this.categoryService=s,this.categories=[],this.brands=[],this.products=[],this.category=0,this.brand=0}ngOnInit(){this.loadBrands(),this.loadCategories(),this.filterProducts()}filterProducts(){this.productService.filterProducts(this.category,this.brand).subscribe(t=>{console.log(t),"success"==t.status?this.products=t.data:this.toastr.error(t.error)})}loadBrands(){this.brandService.getBrands().subscribe(t=>{"success"==t.status?this.brands=t.data:this.toastr.error(t.error)})}loadCategories(){this.categoryService.getCategories().subscribe(t=>{"success"==t.status?this.categories=t.data:this.toastr.error(t.error)})}onAddToCart(t){this.cartService.addItemToCart(t.id,t.price,1).subscribe(t=>{"success"==t.status?this.toastr.success("successfully adde item to cart"):this.toastr.error(t.error)})}showProductDetails(t){this.router.navigate(["/home/product/product-info"],{queryParams:{id:t.id}})}}return t.\u0275fac=function(r){return new(r||t)(o.Kb(f.b),o.Kb(h),o.Kb(O),o.Kb(n.b),o.Kb(v),o.Kb(m))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-gallery"]],decls:23,vars:6,consts:[[1,"header"],[1,"row"],[1,"col-md-3"],[1,"form"],[1,"form-group"],["for",""],[1,"form-control",3,"ngModel","change","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-1"],[1,"col-md-8"],[4,"ngIf"],["class","row",4,"ngIf"],[3,"value"],["class","col-md-4 product",4,"ngFor","ngForOf"],[1,"col-md-4","product"],["alt","...",1,"card-img-top",3,"src"],[3,"click"],[1,"description"],[1,"brand"],[1,"category"],[1,"price"],[1,"btn","btn-sm","btn-info","btn-add-to-cart",3,"click"]],template:function(t,r){1&t&&(o.Pb(0,"h3",0),o.zc(1,"Products"),o.Ob(),o.Pb(2,"div",1),o.Pb(3,"div",2),o.Pb(4,"div",3),o.Pb(5,"div",4),o.Pb(6,"label",5),o.zc(7,"Category"),o.Ob(),o.Pb(8,"select",6),o.ac("change",(function(){return r.filterProducts()}))("ngModelChange",(function(t){return r.category=t})),o.Pb(9,"option",7),o.zc(10,"All"),o.Ob(),o.xc(11,z,2,2,"option",8),o.Ob(),o.Ob(),o.Pb(12,"div",4),o.Pb(13,"label",5),o.zc(14,"Brand"),o.Ob(),o.Pb(15,"select",6),o.ac("change",(function(){return r.filterProducts()}))("ngModelChange",(function(t){return r.brand=t})),o.Pb(16,"option",7),o.zc(17,"All"),o.Ob(),o.xc(18,w,2,2,"option",8),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(19,"div",9),o.Pb(20,"div",10),o.xc(21,y,2,0,"h4",11),o.xc(22,C,2,1,"div",12),o.Ob(),o.Ob()),2&t&&(o.xb(8),o.hc("ngModel",r.category),o.xb(3),o.hc("ngForOf",r.categories),o.xb(4),o.hc("ngModel",r.brand),o.xb(3),o.hc("ngForOf",r.brands),o.xb(3),o.hc("ngIf",0==r.products.length),o.xb(1),o.hc("ngIf",r.products.length>0))},directives:[x.h,x.e,x.f,x.g,x.i,c.i,c.j],styles:[".product[_ngcontent-%COMP%]{border:2px solid #ccc;box-shadow:0 0 5px 1px #ccc;border-radius:10px;margin-bottom:20px;padding-bottom:20px}h5[_ngcontent-%COMP%]{cursor:pointer}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px;margin-bottom:20px}.btn-add-to-cart[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:10px}"]}),t})(),S=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:4100/product-review"}getProductReviews(t){const r={headers:new u.c({token:sessionStorage.token})};return this.http.get(this.url+"/"+t,r)}addProductReviews(t,r,e){const c={headers:new u.c({token:sessionStorage.token})};return this.http.post(this.url+"/"+t,{review:r,rating:e},c)}}return t.\u0275fac=function(r){return new(r||t)(o.Xb(u.a))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function A(t,r){if(1&t&&(o.Pb(0,"div"),o.Lb(1,"ngb-rating",13),o.Pb(2,"p"),o.zc(3),o.Ob(),o.Pb(4,"div",14),o.zc(5),o.Ob(),o.Lb(6,"hr"),o.Ob()),2&t){const t=r.$implicit;o.xb(1),o.hc("rate",t.rating)("max",5),o.xb(2),o.Ac(t.review),o.xb(2),o.Cc("",t.created_on.split("T")[0]," ",t.created_on.split("T")[1],"")}}function F(t,r){if(1&t){const t=o.Qb();o.Pb(0,"div",2),o.Pb(1,"div",3),o.Lb(2,"img",4),o.Ob(),o.Pb(3,"div",5),o.Pb(4,"h4"),o.zc(5),o.Ob(),o.Pb(6,"div"),o.Pb(7,"strong"),o.zc(8,"Price: "),o.Ob(),o.zc(9),o.Ob(),o.Pb(10,"div"),o.Pb(11,"strong"),o.zc(12,"Category: "),o.Ob(),o.zc(13),o.Ob(),o.Pb(14,"div"),o.Pb(15,"strong"),o.zc(16,"Brand: "),o.Ob(),o.zc(17),o.Ob(),o.Pb(18,"div"),o.Pb(19,"strong"),o.zc(20,"Description: "),o.Ob(),o.zc(21),o.Ob(),o.Lb(22,"hr"),o.Pb(23,"div",6),o.Pb(24,"div",7),o.Pb(25,"label",8),o.zc(26,"Review"),o.Ob(),o.Pb(27,"textarea",9),o.ac("ngModelChange",(function(r){return o.pc(t),o.cc().review=r})),o.Ob(),o.Ob(),o.Pb(28,"div",7),o.Pb(29,"ngb-rating",10),o.ac("hover",(function(r){return o.pc(t),o.cc().rating=r})),o.Ob(),o.Ob(),o.Pb(30,"div",7),o.Pb(31,"button",11),o.ac("click",(function(){return o.pc(t),o.cc().onSubmitReview()})),o.zc(32,"Submit"),o.Ob(),o.Ob(),o.Ob(),o.Lb(33,"hr"),o.xc(34,A,7,5,"div",12),o.Ob(),o.Ob()}if(2&t){const t=o.cc();o.xb(2),o.jc("src","http://localhost:4100/product/image/",t.product.imageFile,"",o.rc),o.xb(3),o.Ac(t.product.title),o.xb(4),o.Bc(" ",t.product.price,""),o.xb(4),o.Bc(" ",t.product.categoryTitle,""),o.xb(4),o.Bc(" ",t.product.brandTitle,""),o.xb(4),o.Bc(" ",t.product.description,""),o.xb(6),o.hc("ngModel",t.review),o.xb(2),o.hc("max",5),o.xb(5),o.hc("ngForOf",t.reviews)}}const T=[{path:"gallery",component:I},{path:"cart",component:P},{path:"product-info",component:(()=>{class t{constructor(t,r,e,c){this.reviewService=t,this.toastr=r,this.productService=e,this.activatedRoute=c,this.review="",this.rating=0,this.reviews=[],this.product=void 0}ngOnInit(){this.productService.getProductInfo(this.activatedRoute.snapshot.queryParams.id).subscribe(t=>{"success"==t.status?(this.product=t.data,this.getProductReviews()):this.toastr.error(t.error)})}getProductReviews(){this.reviewService.getProductReviews(this.product.id).subscribe(t=>{"success"==t.status?this.reviews=t.data:this.toastr.error(t.error)})}onSubmitReview(){this.reviewService.addProductReviews(this.product.id,this.review,this.rating).subscribe(t=>{"success"==t.status?(this.toastr.success("thanks for reviewing the product"),this.getProductReviews()):this.toastr.error(t.error)})}}return t.\u0275fac=function(r){return new(r||t)(o.Kb(S),o.Kb(n.b),o.Kb(O),o.Kb(f.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-product-info"]],decls:3,vars:1,consts:[[1,"header"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-4"],["alt","...",1,"card-img-top",3,"src"],[1,"col-md-8"],[1,"form"],[1,"form-group"],["for",""],["rows","3",1,"form-control",3,"ngModel","ngModelChange"],[3,"max","hover"],[1,"btn","btn-info",3,"click"],[4,"ngFor","ngForOf"],["readonly","true",3,"rate","max"],[2,"font-size","13px","color","gray"]],template:function(t,r){1&t&&(o.Pb(0,"h3",0),o.zc(1,"Product Info"),o.Ob(),o.xc(2,F,35,9,"div",1)),2&t&&(o.xb(2),o.hc("ngIf",null!=r.product))},directives:[c.j,x.a,x.e,x.f,i.i,c.i],styles:[""]}),t})()}];let K=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(r){return new(r||t)},imports:[[f.d.forChild(T)],f.d]}),t})(),M=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(r){return new(r||t)},imports:[[c.b,K,x.b,i.g]]}),t})()}}]);